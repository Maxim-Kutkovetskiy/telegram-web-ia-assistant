# üåê Beauty Salon AI Assistant ‚Äî Telegram & Website Bot

![Python](https://img.shields.io/badge/Python-3.9+-blue?logo=python)
![Flask](https://img.shields.io/badge/Flask-3.0.2-green?logo=flask)
![Telegram](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram)
![OpenAI](https://img.shields.io/badge/OpenAI-Assistant-orange?logo=openai)
![Google Sheets](https://img.shields.io/badge/Google-Sheets-darkgreen?logo=googlesheets)

> –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã —Å Telegram-–±–æ—Ç–æ–º –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

[–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](#-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è) ‚Ä¢ [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) ‚Ä¢ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) ‚Ä¢ [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞) ‚Ä¢ [–î–µ–ø–ª–æ–π](#-–¥–µ–ø–ª–æ–π-–Ω–∞-—Å–µ—Ä–≤–µ—Ä) ‚Ä¢ [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#-–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](#-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#-–¥–µ–ø–ª–æ–π-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [API Reference](#-api-reference)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](#-–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞)


---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

**Beauty Salon AI Assistant** ‚Äî —ç—Ç–æ –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã. –ü—Ä–æ–µ–∫—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:

- **Telegram-–±–æ—Ç–∞** –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **–í–µ–±-API** –¥–ª—è –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–æ–∫ —Å —Å–∞–π—Ç–∞
- **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞** –Ω–∞ –±–∞–∑–µ OpenAI –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| ü§ñ | **–£–º–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** | OpenAI Assistant —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –æ —Å–∞–ª–æ–Ω–µ |
| üì± | **–î–≤–∞ –∫–∞–Ω–∞–ª–∞ —Å–≤—è–∑–∏** | Telegram –∏ –≤–µ–±-—Å–∞–π—Ç |
| üìä | **–ï–¥–∏–Ω–∞—è –±–∞–∑–∞** | –í—Å–µ –∑–∞—è–≤–∫–∏ –≤ Google Sheets |
| ‚ö° | **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** | –ê–≤—Ç–æ-–∑–∞–ø–∏—Å—å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
| üîå | **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | Ngrok, JSONBin, Google APIs |

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí¨ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (Telegram –∏ –≤–µ–±-—Å–∞–π—Ç)
- üìù –ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ —É—Å–ª—É–≥–∏ —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º
- üì® –ü—Ä–∏—ë–º –∑–∞—è–≤–æ–∫ —Å –≤–µ–±-—Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ REST API
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets
- üîî –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- üåê –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL —á–µ—Ä–µ–∑ Ngrok + JSONBin
- üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (OpenAI Threads)

---

## üñ•Ô∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

![–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞](https://drive.google.com/uc?export=view&id=1OCE3l4lKgMQYujeYJ8lR8FzeCh9sIh__)
<div align="center">
  <img src="https://via.placeholder.com/300x600/0088cc/ffffff?text=Telegram+Bot+Demo" alt="Telegram Bot Demo" width="300">
  <p><em>–°—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é –±–æ—Ç–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å¬ª –∏ ¬´–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è¬ª</em></p>
</div>

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
![–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞](https://drive.google.com/uc?export=view&id=1whik210F16I40G3eZfl-MPp6ZfW3cyms)
### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| `main.py` | –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã (Flask + Telegram Bot) |
| `functions.py` | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã |
| `sync_ngrok_url.py` | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö URL |
| –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π | FAQ —Å–∞–ª–æ–Ω–∞ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `.env` —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ |

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
–ö–ª–∏–µ–Ω—Ç ‚Üí [Telegram / Website] ‚Üí Flask API ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí Google Sheets ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É ‚Üí –û—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

text


---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
|---|---|---|
| Python | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ | 3.9+ |
| Flask | –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ | 3.0.2 |
| Telegram API | –ë–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ | python-telegram-bot 20.6 |
| OpenAI Assistant | AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç | openai >= 1.35.0 |
| Google Sheets API | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | google-api-client 2.118.0 |
| Ngrok | –¢—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚Äî |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
telegram-web-ia-assistant/
‚îÇ
‚îú‚îÄ‚îÄ main.py # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Flask + Telegram Bot)
‚îú‚îÄ‚îÄ functions.py # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ sync_ngrok_url.py # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Ngrok URL
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îú‚îÄ‚îÄ knowledge.txt # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (FAQ)
‚îÇ ‚îú‚îÄ‚îÄ –ü—Ä–æ–º–ø—Ç.txt # –ü—Ä–æ–º–ø—Ç –¥–ª—è OpenAI Assistant
‚îÇ ‚îî‚îÄ‚îÄ OpenAI Function Calling.txt # –°—Ö–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env.example # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã Git
‚îú‚îÄ‚îÄ credentials.json # Google Service Account (–ù–ï –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏!)
‚îî‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```



---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Maxim-Kutkovetskiy/telegram-web-ia-assistant.git
cd telegram-web-ia-assistant

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ –≤–∞—à–∏ –∫–ª—é—á–∏

# 4. –ü–æ–ª—É—á–∏—Ç–µ Google Service Account –∫–ª—é—á –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ credentials.json

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python main.py
–í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–ø—É—Å–∫ —Å –ø—É–±–ª–∏—á–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
Bash

# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python main.py

# 2. –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Ngrok
ngrok http 5000

# 3. –í —Ç—Ä–µ—Ç—å–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä
python sync_ngrok_url.py
```
## üíª –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
Python 3.9+ –∏ pip
Telegram Bot Token (–æ—Ç @BotFather)
OpenAI API Key (–æ—Ç platform.openai.com)
Google Service Account (–¥–ª—è Google Sheets API)
Ngrok Account (–¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```
### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```Bash
git clone https://github.com/Maxim-Kutkovetskiy/telegram-web-ia-assistant.git
cd telegram-web-ia-assistant
python -m venv venv
source venv/bin/activate    # macOS/Linux
# venv\Scripts\activate     # Windows
```
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```Bash

pip install -r requirements.txt
```
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```Bash
–°–æ–∑–¥–∞–π—Ç–µ .env –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example:

env

TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
ADMIN_CHAT_ID=your_admin_chat_id
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ASSISTANT_ID=asst_your_assistant_id
GOOGLE_SHEET_ID=your_google_sheet_id
GOOGLE_SERVICE_ACCOUNT_EMAIL=your_service_account_email
NGROK_AUTHTOKEN=your_ngrok_authtoken
JSONBIN_MASTER_KEY=your_jsonbin_master_key
FLASK_SECRET_KEY=your_secret_key_here
BASE_URL=http://localhost:5000
TIMEZONE=Europe/Moscow
```
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets
```
–°–æ–∑–¥–∞–π—Ç–µ Google Cloud Project.
–í–∫–ª—é—á–∏—Ç–µ Google Sheets API.
–°–æ–∑–¥–∞–π—Ç–µ Service Account –∏ —Å–∫–∞—á–∞–π—Ç–µ credentials.json.
–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å Google Sheet —Å email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.
```
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI Assistant
```
–°–æ–∑–¥–∞–π—Ç–µ Assistant –≤ OpenAI Dashboard.
–î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é save_booking_data.
–ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (knowledge.txt).
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–º–ø—Ç (–ü—Ä–æ–º–ø—Ç.txt).
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ Assistant ID –≤ .env.
```
## üñ•Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—É—Å–∫–∞
```Bash
# 1. –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
python main.py

# 2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
python main.py              # –¢–µ—Ä–º–∏–Ω–∞–ª 1
ngrok http 5000             # –¢–µ—Ä–º–∏–Ω–∞–ª 2
python sync_ngrok_url.py    # –¢–µ—Ä–º–∏–Ω–∞–ª 3

# 3. –¢–æ–ª—å–∫–æ API-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python -m pytest tests/                   # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
curl http://localhost:5000/ping           # –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```
## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```Bash
–í–∞—Ä–∏–∞–Ω—Ç A: VPS (Ubuntu / Debian)

# 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
ssh user@your-server-ip
sudo apt update && sudo apt upgrade -y
sudo apt install python3-pip python3-venv git nginx -y
```
### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```Bash
cd /var/www
git clone https://github.com/Maxim-Kutkovetskiy/telegram-web-ia-assistant.git
cd telegram-web-ia-assistant
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```
### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–ª—É–∂–±—ã
```Bash
sudo nano /etc/systemd/system/beauty-bot.service
–°–æ–¥–µ—Ä–∂–∏–º–æ–µ beauty-bot.service:

ini

[Unit]
Description=Beauty Salon Telegram Bot
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/telegram-web-ia-assistant
Environment="PATH=/var/www/telegram-web-ia-assistant/venv/bin"
ExecStart=/var/www/telegram-web-ia-assistant/venv/bin/python /var/www/telegram-web-ia-assistant/main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
Bash

# 4. –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
sudo systemctl daemon-reload
sudo systemctl enable beauty-bot
sudo systemctl start beauty-bot
sudo systemctl status beauty-bot
```
## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`.env`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ü—Ä–∏–º–µ—Ä |
|---|---|---|---|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | ‚úÖ | `8214874151:AAHMNO...` |
| `OPENAI_API_KEY` | –ö–ª—é—á OpenAI API | ‚úÖ | `sk-proj-...` |
| `OPENAI_ASSISTANT_ID` | ID –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ OpenAI | ‚úÖ | `asst_OJL4...` |
| `GOOGLE_SHEET_ID` | ID Google –¢–∞–±–ª–∏—Ü—ã | ‚úÖ | `1xHTwNBqeMA...` |
| `GOOGLE_SERVICE_ACCOUNT_EMAIL` | Email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ | `bot@project.iam.gserviceaccount.com` |
| `ADMIN_CHAT_ID` | ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | ‚úÖ | `-1003...` |
| `BASE_URL` | –ë–∞–∑–æ–≤—ã–π URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | ‚úÖ | `http://localhost:5000` |
| `TIMEZONE` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å | ‚úÖ | `Europe/Moscow` |
| `NGROK_AUTHTOKEN` | –¢–æ–∫–µ–Ω Ngrok | ‚ö†Ô∏è | `2B...` |
| `JSONBIN_MASTER_KEY` | –ö–ª—é—á JSONBin | ‚ö†Ô∏è | `$2a$10$...` |
| `FLASK_SECRET_KEY` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Flask | ‚úÖ | `your-secret-key` |

> ‚ö†Ô∏è ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ Ngrok
üìö API Reference
```
Flask API Endpoints

GET /ping
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞.
```
```Bach
Response:


JSON

{
  "status": "ok",
  "msg": "pong"
}
POST /api/booking
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏ —Å –≤–µ–±-—Å–∞–π—Ç–∞.

Request:

JSON

{
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "phone": "+79991234567",
  "service": "–°—Ç—Ä–∏–∂–∫–∞",
  "date": "25.12.2024 14:30",
  "master": "–¢–æ–ø-–°—Ç–∏–ª–∏—Å—Ç",
  "comment": "–•–æ—á—É –ø–æ–¥—Å—Ç—Ä–∏—á—å—Å—è –ø–æ–∫–æ—Ä–æ—á–µ"
}
Response:

JSON

{
  "success": true,
  "msg": "–ó–∞—è–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!"
}
POST /api/chat
–û–±—â–µ–Ω–∏–µ —Å OpenAI Assistant —á–µ—Ä–µ–∑ API.

Request:

JSON

{
  "user_id": "unique_user_id",
  "message": "–•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ",
  "thread_id": "optional_thread_id"
}
Response:

JSON

{
  "success": true,
  "reply": "–ö–æ–Ω–µ—á–Ω–æ! –î–∞–≤–∞–π—Ç–µ –∑–∞–ø–∏—à–µ–º –≤–∞—Å...",
  "thread_id": "thread_abc123"
}
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
```
<details> <summary><b>‚ùå Telegram –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç</b></summary>
–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã.

–†–µ—à–µ–Ω–∏–µ:

Bash

# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getMe

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç
ps aux | grep python

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
python main.py 2>&1 | grep -i "error\|exception"

# 4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è polling
# –í main.py –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: application.run_polling()
</details><details> <summary><b>‚ùå –û—à–∏–±–∫–∞ Google Sheets API</b></summary>
–ü—Ä–æ–±–ª–µ–º–∞: google.auth.exceptions.DefaultCredentialsError

–†–µ—à–µ–Ω–∏–µ:

Bash

# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ credentials.json
ls -la credentials.json

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ
# –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º:
# bot-telegram-and-the-website@bot-telegram-and-the-website.iam.gserviceaccount.com

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GOOGLE_SHEET_ID –≤ .env
</details>
```
## üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
```
–í–µ—Ä—Å–∏—è 1.0 (–¢–µ–∫—É—â–∞—è)
 [v] Telegram –±–æ—Ç —Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏
 [v] T–ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥
 [v] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Assistant
 [v] –í–µ–±-API –¥–ª—è —Å–∞–π—Ç–∞
 [v] Google Sheets –∫–∞–∫ –ë–î
 [v] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
 
–í–µ—Ä—Å–∏—è 1.1 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
 [ ] –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
 [ ] –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–ø–∏—Å–µ–π
 [ ] –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º
 [ ] –°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
 [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel
 
–í–µ—Ä—Å–∏—è 2.0 (–ë—É–¥—É—â–µ–µ)
 [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
 [ ] –°–∏—Å—Ç–µ–º–∞ –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—ã
 [ ] AI-–∞–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤
 [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Instagram / Facebook
 [ ] –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º
